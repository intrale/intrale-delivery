package ar.com.intrale.models;

import java.util.Set;

import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAutoGeneratedKey;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverted;

import io.micronaut.core.util.StringUtils;

@DynamoDBTable(tableName="order")
public class Order {

	@DynamoDBHashKey(attributeName="orderId")
	@DynamoDBAutoGeneratedKey
	private String id;

	private String businessName;
	private String email;
	
	private String orderStatus;
	
	private DeliveryLocation deliveryLocation;
	
	@DynamoDBTypeConverted(converter = OrderProductToJsonConverter.class)
	private Set<OrderProduct> products;

	public String getId() {
		return id;
	}
	public void setId(String id) {
		/**
		 * Tener en cuenta que si no se coloca esta validacion
		 * cuando se utiliza el mapper, se pisa el valor que se autogenera
		 * dando una excepcion al intentar almacenar
		 */
		if (StringUtils.isNotEmpty(id)) {
			this.id = id;
		}
	}


	public String getBusinessName() {
		return businessName;
	}

	public void setBusinessName(String businessName) {
		this.businessName = businessName;
	}

	public String getEmail() {
		return email;
	}

	public void setEmail(String email) {
		this.email = email;
	}

	public String getOrderStatus() {
		return orderStatus;
	}

	public void setOrderStatus(String orderStatus) {
		this.orderStatus = orderStatus;
	}

	public DeliveryLocation getDeliveryLocation() {
		return deliveryLocation;
	}

	public void setDeliveryLocation(DeliveryLocation deliveryLocation) {
		this.deliveryLocation = deliveryLocation;
	}

	public Set<OrderProduct> getProducts() {
		return products;
	}

	public void setProducts(Set<OrderProduct> products) {
		this.products = products;
	}
	
	
}
